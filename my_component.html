<!DOCTYPE html>
<html>
<head>
<script>
function saveData(data) {
    localStorage.setItem('savingsData', JSON.stringify(data));
}

function loadData() {
    const data = localStorage.getItem('savingsData');
    return data ? JSON.parse(data) : null;
}

// Send any existing data back to Streamlit on load
window.onload = function() {
    window.parent.postMessage({type: 'streamlit:setComponentValue', value: loadData()}, '*');
}

// Listen for messages from the Streamlit app
window.addEventListener("message", event => {
    if (event.data.type === 'streamlit:getData') {
        window.parent.postMessage({type: 'streamlit:setComponentValue', value: loadData()}, '*');
    } else if (event.data.type === 'streamlit:saveData') {
        saveData(event.data.value);
    }
}, false);
</script>
</head>
<body>
    <p>LocalStorage Handler for Savings Plan</p>
</body>
</html>
